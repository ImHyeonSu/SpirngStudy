<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>top page</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style>
h1 { font-size:18pt; font-weight:bold; color:gray; }
body { font-size:13pt; color:gray; margin:5px 25px; }
tr { margin:5px; }
th { padding:5px; color:white; background:darkgray; }
td { padding:5px; color:black; background:#e0e0ff; }
.err {color:red}
</style>
</head>
<body>
  <h1 th:text = "#{content.title}">Helo page</h1> <!-- MyData_5_2, HeloController_5_5.java, MyDataRepository_4.java, ValidationMessages.properties -->
  <p th:text = "${msg}"></p>
  <table>
  <form method="post" action="/" th:object="${formModel}">   <!-- form을 만들고 input 문에서 th:value를 통해 값을 대입하고 있다/. -->
  	<tr><td><label for ="name">이름</label></td>
  		<td><input type="text" name="name" th:value="*{name}" th:errorclass="err" /> <!-- th:value는 객체의 프로퍼티를 값으로 설정하고 있다, th:errorclass 에러발생시 적용되는 클래스명, 오류발견시 텍스트를 빨간색으로 바꿔라가 처리된다. -->
  		<div th:if="${#fields.hasErrors('name')}" th:errors="*{name}" th:errorclass="err"> <!-- 해당필드의 오류가 name이 발생했을 때만 체크, th:if 필드에 오류가 발생하는 지 확인, th:errors name의 오류메시지만 출력 -->
  		</div></td></tr> 
  	<tr><td><label for ="age">연령</label></td>
  		<td><input type="text" name="age" th:value="*{age}" th:errorclass="err" />
  	   <div th:if="${#fields.hasErrors('age')}" th:errors="*{age}" th:errorclass="err">
  	   </div></td></tr>
	<tr><td><label for ="mail">메일</label></td>
  		<td><input type="text" name="mail" th:value="*{mail}" th:errorclass="err" />
  	   <div th:if="${#fields.hasErrors('mail')}" th:errors="*{mail}" th:errorclass="err">
  	   </div></td></tr>
  	<tr><td><label for ="memo">메모</label></td>
  		<td><textarea name="memo" th:text="*{memo}" cols="20" rows="5"></textarea></td></tr>
  	<tr><td></td><td><input type="submit" /></td></tr>	
  	 </form>
  	 </table>
  	 <hr/>
  	 <table>
  	 <tr><th>ID</th><th>이름</th></tr>
  	 <tr th:each="obj : ${datalist}">
  	 	<td th:text="${obj.id}"></td>
  	 	<td th:text="${obj.name}"></td>
  	 </tr>
  	 </table>
  	 </body>     	   